@import '~@entur/tokens/dist/styles.scss';
@import '~@entur/utils/dist/breakpoints.scss';

.eds-alert-box {
  border: $border-widths-small solid;
  border-radius: $border-radiuses-medium;
  color: $colors-brand-blue;
  display: flex;
  padding: $space-small;
  position: relative;

  // Size overrides
  &--banner {
    padding: $space-medium;
    width: 100%;

    @include for-desktop {
      padding: $space-large;
    }
  }

  &--toast {
    max-width: 22rem;
    width: 100%;

    animation: $timings-slow ease-in-out 0s 1 bounceInRight;
    @include for-desktop {
      min-width: 12rem;
      width: fit-content;
    }
  }

  &--small {
    font-size: $font-sizes-medium;
    .eds-alert-box__icon {
      margin-top: 0;
    }
  }

  &--fit-content {
    width: fit-content;
  }

  // Variants
  &--success {
    background-color: $colors-validation-mint-tint;
    border-color: $colors-validation-mint;
    color: $colors-validation-mint;
  }
  &--info {
    background-color: $colors-validation-sky-tint;
    border-color: $colors-validation-sky-contrast;
    color: $colors-validation-sky;
  }
  &--warning {
    background-color: $colors-validation-canary-tint;
    border-color: $colors-validation-canary-contrast;
    color: $colors-brand-blue;
  }
  &--error {
    background-color: $colors-validation-lava-tint;
    border-color: $colors-validation-lava-contrast;
    color: $colors-validation-lava;
  }
}

.eds-alert-box__icon {
  display: inline-block;
  flex: 0 0 1em;
  font-size: 1.2rem; // Required since the icons are a tiny bit too small
  margin-right: 0.5em;
  margin-top: -$space-extra-small2;

  .eds-alert-box--banner &,
  .eds-alert-box--toast & {
    @include for-desktop {
      font-size: $space-extra-large; // standalone icon size
    }
  }
}

.eds-alert-box__title {
  font-weight: $font-weights-heading;
  margin: 0;
}

.eds-alert-box__content {
  color: $colors-brand-blue;
  &--no-title,
  &--no-children {
    display: flex;
    align-items: center;
  }

  .eds-alert-box--banner &,
  .eds-alert-box--toast & {
    margin-right: $space-extra-large;
  }

  & > *:first-child {
    margin-top: 0;
  }

  & > *:last-child {
    margin-bottom: 0;
  }
}

.eds-alert-box__close-button {
  appearance: none;
  background: none;
  border: 0;
  border-radius: none;
  color: $colors-brand-blue;
  cursor: pointer;
  font-size: $font-sizes-large;
  padding: 0;
  position: absolute;
  right: $space-medium;
  top: $space-medium;

  &:focus {
    outline-offset: $outline-offsets-focus;
    outline: none;
    box-shadow: $shadows-focus;
  }

  @include for-desktop {
    font-size: $font-sizes-extra-large2;
    right: $space-large;
    top: $space-large;
    .eds-alert-box--toast & {
      right: $space-medium;
      top: $space-medium;
    }
  }
}

.eds-toast-container {
  position: fixed;
  z-index: $z-indexes-toast;
  display: flex;
  align-items: flex-end;
  flex-direction: column;
  &--bottom-right {
    bottom: $space-large;
    right: $space-large;
    left: $space-large;
  }
  &--top-right {
    top: $space-large;
    right: $space-large;
    left: $space-large;
  }

  > * + * {
    margin-top: $space-default;
  }

  @include for-desktop {
    left: initial;
  }
}

@keyframes bounceInRight {
  from,
  60%,
  75%,
  90%,
  to {
    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
  }

  from {
    opacity: 0;
    transform: translate3d(3000px, 0, 0) scaleX(3);
  }

  60% {
    opacity: 1;
    transform: translate3d(-25px, 0, 0) scaleX(1);
  }

  75% {
    transform: translate3d(10px, 0, 0) scaleX(0.98);
  }

  90% {
    transform: translate3d(-5px, 0, 0) scaleX(0.995);
  }

  to {
    transform: translate3d(0, 0, 0);
  }
}
