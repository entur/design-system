@use '~@entur/tokens/dist/styles.scss' as t;
@use '~@entur/utils/dist/breakpoints.scss' as breakpoint;

.eds-alert-box {
  border: t.$border-widths-small solid;
  border-radius: t.$border-radiuses-medium;
  color: t.$colors-brand-blue;
  display: flex;
  padding: t.$space-small;
  position: relative;

  // Size overrides
  &--banner {
    padding: t.$space-medium;
    width: 100%;

    @include breakpoint.for-desktop {
      padding: t.$space-large;
    }
  }

  &--toast {
    max-width: 22rem;
    width: 100%;

    animation: t.$timings-slow ease-in-out 0s 1 bounceInRight;
    @include breakpoint.for-desktop {
      min-width: 12rem;
      width: fit-content;
    }

    &--exit-animation {
      animation: t.$timings-slow ease-in-out 0s 1 bounceOutRight;
    }
  }

  &--small {
    font-size: t.$font-sizes-medium;
  }

  &--fit-content {
    width: fit-content;
  }

  // Variants
  &--success {
    background-color: t.$colors-validation-mint-tint;
    border-color: t.$colors-validation-mint;
    color: t.$colors-validation-mint;
  }
  &--info {
    background-color: t.$colors-validation-sky-tint;
    border-color: t.$colors-validation-sky-contrast;
    color: t.$colors-validation-sky;
  }
  &--warning {
    background-color: t.$colors-validation-canary-tint;
    border-color: t.$colors-validation-canary-contrast;
    color: t.$colors-brand-blue;
  }
  &--error {
    background-color: t.$colors-validation-lava-tint;
    border-color: t.$colors-validation-lava-contrast;
    color: t.$colors-validation-lava;
  }

  &__icon {
    display: inline-block;
    flex: 0 0 1em;
    font-size: 1.2rem; // Required since the icons are a tiny bit too small
    margin-right: 0.5em;
    margin-top: 0;

    .eds-alert-box--banner &,
    .eds-alert-box--toast & {
      @include breakpoint.for-desktop {
        font-size: t.$space-extra-large; // standalone icon size
        margin-top: -(t.$space-extra-small2);
      }
    }
  }

  &__title {
    font-weight: t.$font-weights-heading;
    margin: 0;
  }

  &__content {
    color: t.$colors-brand-blue;
    flex: 1;
    &--no-title,
    &--no-children {
      display: flex;
      align-items: center;
    }

    .eds-alert-box--banner &,
    .eds-alert-box--toast & {
      margin-right: t.$space-extra-large;
    }

    & > *:first-child {
      margin-top: 0;
    }

    & > *:last-child {
      margin-bottom: 0;
    }
  }

  &__close-button {
    margin-top: -0.3125rem;
    margin-left: t.$space-extra-small;
    height: fit-content;
    width: fit-content;
    color: t.$colors-brand-blue;

    // Normal mode and contrast mode
    &,
    .eds-contrast & {
      &:hover {
        background: rgba(t.$colors-misc-black, 0.1);
      }
      &:active {
        background: rgba(t.$colors-misc-black, 0.3);
      }
      &:focus {
        border: t.$border-widths-small solid t.$colors-brand-blue;
        outline: none;
      }
    }
  }
  // Overwrites tooltip default styling
  & &__tooltip {
    .eds-contrast & {
      background: t.$colors-brand-blue;
      color: t.$colors-brand-white;
      &::after {
        background: t.$colors-brand-blue;
      }
    }
  }
}
