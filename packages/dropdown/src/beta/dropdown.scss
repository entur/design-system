@import '~@entur/tokens/dist/styles.scss';

.eds-searchable-dropdown {
  &__wrapper {
    position: relative;
  }

  &__selected-item {
    display: block;
    font-size: $font-sizes-large;
    line-height: $line-heights-small;
    margin-right: -$space-medium;
    padding: calc(#{$space-medium} + #{$space-extra-small2}) 0
      $space-extra-small2 $space-medium;
    font-family: inherit;

    overflow-x: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;

    &__wrapper {
      max-width: 65%;
    }
  }

  &-appendix {
    &__clear-button {
      background: none;
      border: none;
      border-radius: 50%;
      color: inherit;
      cursor: pointer;
      display: flex;
      font: inherit;
      font-size: 1rem;
      line-height: 1rem;
      padding: 0.5rem;
      margin-right: 0.25rem;
      &:hover {
        background: $colors-greys-grey80;
      }
      &:focus {
        outline-offset: $outline-offsets-focus;
        outline: none;
        box-shadow: $shadows-focus;
      }
    }

    &__divider {
      content: '';
      display: block;
      background-color: $colors-greys-grey70;
      height: 1.5rem;
      width: 1px;
      .eds-form-control-wrapper--disabled & {
        .eds-contrast & {
          background-color: $colors-blues-blue50;
        }
      }
    }

    &__toggle-button {
      appearance: none;
      background: none;
      border: none;
      border-radius: 50%;
      color: inherit;
      font-size: inherit;
      font-family: inherit;
      margin-right: -$space-small;
      margin-left: 0.25rem;

      padding: $space-extra-small;

      display: flex;
      justify-content: center;

      &--open svg {
        transform: rotate(180deg);
      }

      &:hover {
        background: $colors-greys-grey80;
      }
      &:focus {
        outline-offset: $outline-offsets-focus;
        outline: none;
        box-shadow: $shadows-focus;
        .eds-contrast & {
          box-shadow: $shadows-focus-contrast;
        }
      }

      svg {
        transition: transform ease-in-out $timings-fast;
      }
    }
  }

  &__list {
    position: absolute;
    top: $space-extra-large3;

    border-radius: $border-radiuses-medium;
    box-shadow: $shadows-box-shadow;
    display: none;
    list-style: none;
    margin: 0;
    max-height: 50vh;
    padding: 0;
    overflow-y: auto;
    width: 100%;
    z-index: $z-indexes-popover;
    // .eds-contrast & {
    //   box-shadow: $shadows-box-shadow-contrast;
    // }

    &--open {
      // Note that for accessibility reasons it's best if this element is always rendered. That's why we initially hide it!
      display: inline-block;
    }

    &:focus {
      outline: none;
    }

    @media all and (min-width: $breakpoints-large) {
      max-height: 30vh;
    }

    &__item {
      align-items: center;
      background-color: $colors-greys-grey90;
      border-bottom: $border-widths-default solid $colors-greys-grey70;
      border-left: $border-widths-default solid $colors-greys-grey70;
      border-right: $border-widths-default solid $colors-greys-grey70;
      color: $colors-brand-blue;
      display: flex;
      justify-content: space-between;
      font-family: inherit;
      font-size: $font-sizes-large;
      line-height: $line-heights-medium;
      padding: $space-small $space-default;
      width: 100%;
      &:first-child {
        border-top: $border-widths-default solid $colors-greys-grey70;
      }
      &:last-child {
        border-bottom: none;
      }

      &-icon {
        margin-left: $space-small;
      }

      // .eds-contrast & {
      //   color: $colors-brand-blue;
      //   border-color: $colors-blues-blue30;
      //   background-color: $colors-brand-white;
      // }

      &--highlightedÂ  {
        background-color: $colors-blues-blue70;

        .eds-contrast & {
          background-color: $colors-blues-blue70;
        }
      }
    }
  }
}

.eds-form-control.eds-searchable-dropdown__input {
  &::placeholder {
    transition: none;
    position: relative;
    bottom: 1px;
  }
}
