@use '~@entur/tokens/dist/styles.scss' as t;
@use '~@entur/utils/dist/color-utils.scss' as util;

.eds-input-panel {
  &:focus-within {
    .eds-input-panel__container {
      border-color: t.$colors-brand-blue;
      box-shadow: t.$shadows-focus;
    }
    .eds-contrast & {
      .eds-input-panel__container {
        border-color: t.$colors-brand-white;
        box-shadow: t.$shadows-focus-contrast;
      }
    }
  }

  > input {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;

    &:checked {
      + .eds-input-panel__container {
        border-color: t.$colors-brand-blue;
        background: t.$colors-blues-blue90;

        .eds-contrast & {
          border-color: t.$colors-brand-lavender;
          background: t.$colors-blues-blue20;
        }

        .eds-form-component--radio__circle {
          width: 0.75rem;
          height: 0.75rem;

          .eds-contrast & {
            background-color: t.$colors-brand-white;
          }
        }

        &:hover {
          background-color: t.$colors-blues-blue80;
          border: t.$border-widths-medium solid t.$colors-blues-blue60;

          .eds-contrast & {
            background: t.$colors-blues-blue30;
          }

          /* The following styling is needed to sync the inner checkbox/radiobutton's
               hover state styling with the inputPanel container */
          .eds-form-component--radio__radio {
            background-color: t.$colors-blues-blue70;
            border-color: t.$colors-blues-blue10;

            .eds-contrast & {
              background-color: rgba(t.$colors-brand-lavender, 0.2);
              border-color: util.tint(t.$colors-brand-lavender, 10%);
            }

            .eds-form-component--radio__circle {
              background-color: t.$colors-blues-blue10;

              .eds-contrast & {
                background-color: t.$colors-brand-white;
              }
            }
          }

          .eds-checkbox__icon {
            background-color: t.$colors-blues-blue10;
            border-color: transparent;

            .eds-contrast & {
              background-color: util.tint(t.$colors-brand-lavender, 10%);
            }
          }
        }
      }
    }
  }

  &__container {
    background: t.$colors-brand-white;
    border: t.$border-widths-medium solid t.$colors-blues-blue60;
    border-radius: t.$border-radiuses-medium;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    min-width: 20rem;
    position: relative;
    padding: t.$space-medium;
    user-select: none;
    width: fit-content;
    transition: background ease-in-out t.$timings-fast,
      border-color ease-in-out t.$timings-fast;

    .eds-contrast & {
      background-color: transparent;
      border-color: t.$colors-brand-lavender;
    }

    &:hover {
      background-color: t.$colors-blues-blue80;

      .eds-contrast & {
        background-color: t.$colors-blues-blue30;
      }

      /* The following styling is needed to sync the inner checkbox/radiobutton's
      hover state styling with the inputPanel container */
      .eds-checkbox__icon,
      .eds-form-component--radio__radio {
        border-color: t.$colors-blues-blue10;
        background-color: t.$colors-blues-blue70;

        .eds-contrast & {
          border-color: util.tint(t.$colors-brand-lavender, 10%);
          background-color: rgba(t.$colors-brand-lavender, 0.2);
        }
      }
    }

    input:disabled + & {
      background: t.$colors-greys-grey80;
      border-color: t.$colors-greys-grey80;
      color: t.$colors-blues-blue40;
      pointer-events: none;

      .eds-contrast & {
        background: t.$colors-brand-blue;
        border-style: dashed;
        border-color: t.$colors-blues-blue30;
        color: t.$colors-blues-blue60;
      }
    }

    .eds-checkbox__icon,
    .eds-checkbox__icon .eds-checkbox__icon,
    .eds-form-component--radio__radio {
      width: 1.5rem;
      height: 1.5rem;
      margin-right: 0;
    }
  }

  &--medium {
    .eds-input-panel__title {
      font-size: t.$font-sizes-large;
      font-weight: t.$font-weights-body;
    }
    &.eds-input-panel__container {
      padding-bottom: t.$space-medium;
      min-height: 3.75rem;
    }
  }

  &--large {
    &.eds-input-panel__container {
      min-height: 6rem;
    }
    .eds-input-panel__title-wrapper {
      height: 2rem;
    }
    .eds-input-panel__title {
      font-size: t.$font-sizes-extra-large;
      font-weight: t.$font-weights-body;
      line-height: t.$line-heights-extra-large3;
    }
  }

  &__title-wrapper {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  &__secondary-label-and-icon-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.75rem;

    .eds-checkbox__container {
      margin: 0;
    }
  }

  &__additional-content {
    margin-top: t.$space-extra-small2;
    word-wrap: break-word;
  }
}
