---
name: Dropdowns
route: /komponenter/skjemaelementer/dropdowns
parent: Komponenter
menu: Skjemaelementer
npmPackage: dropdown
tags: select, autocomplete, dropdown, nedtrekksmeny
---

import { Props } from 'docz';
import { Dropdown, NativeDropdown } from '@entur/dropdown';
import { Playground } from '~/components/Playground';
import { ImportStatement } from '~/components/ImportStatement';
import PageHeader from '~/components/PageHeader';
import dropdownItems from './dropdownItems';

<PageHeader>Dropdowns lar deg velge mellom mange valg</PageHeader>

<Playground>
  <Dropdown items={dropdownItems} label="Stoppesteder" />
  <Dropdown
    items={dropdownItems}
    searchable
    label="Søk etter stoppesteder"
    placeholder="F.eks. Bislett"
  />
</Playground>

## Komponenter

### Dropdown

<ImportStatement imports="Dropdown" />
<Props of={Dropdown} />

`<Dropdown />` er en fleksibel komponent for å lage nedtrekkslister. Du sender inn en liste med valg, som kan være en string, eller objekter med verdi og label - eller en blanding av disse. Du kan også sende med en liste med ikoner, som vises til høyre:

```js
const items = {
  'Bislett',
  { value: 'OsloMet', label: 'Holbergsplass', },
  {
    value: 'Oslo S',
    label: 'Oslo Sentralstasjon',
    icons: [BusIcon, TrainIcon, MetroIcon],
  },
};
```

By default så fungerer Dropdown som en vanlig select-boks - men den har også støtte for å være søkbar. Da sender du med propertyen `searchable`.

#### Autocomplete, typeahead og lignende

Om du ønsker å hente innholdet i dropdownen basert på hva brukeren skriver inn, så kan du sende inn _en funksjon_ til `items` istedenfor.

Denne funksjonen blir kalt hver gang man endrer noe i input-feltet, og mottar den nye input-strengen som argument. Funksjonen kan være asynkron, og vil i så tilfeller vise en spinner mens brukeren venter.

Her er et interaktivt og komplett eksempel, som "henter" treff fra en fake server med tilfeldig forsinkelse:

<Playground>
  {() => {
    // `fetchItems` her vil vanligvis være et fetch-kall.
    let timeoutId;
    const fetchItems = query =>
      new Promise(resolve => {
        clearTimeout(timeoutId);
        if (!query) {
          resolve([]);
          return;
        }
        const queryRegex = new RegExp(query, 'i');
        timeoutId = setTimeout(
          () =>
            resolve(
              dropdownItems.filter(item => queryRegex.test(item.label || item)),
            ),
          Math.max(Math.random() * 1000, 100), // Et tilfeldig delay per søk
        );
      });
    return (
      <Dropdown searchable items={fetchItems} placeholder="Søk asynkront" />
    );
  }}
</Playground>

### NativeDropdown

<ImportStatement imports="NativeDropdown" />
<Props of={NativeDropdown} />

`<NativeDropdown />` ser til forveksling lik ut som `<Dropdown />`, men er en mye enklere implementasjon, som bruker HTMLs `<select />`-element under panseret. Det gjør at den er veldig mobilvennlig, både i størrelse og bruk.

Den har ikke støtte for søk, men godtar en (asynkron) funksjon for å hente data fra en ekstern kilde, slik som `<Dropdown />`.

<Playground>
  <NativeDropdown items={dropdownItems} />
</Playground>
