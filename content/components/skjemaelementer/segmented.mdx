---
name: Segmented Control
description: Segmented Controls tilbyr nært beslektede valg som påvirker et objekt, en tilstand eller en visning. De består av et sett med to eller flere knappsegmenter, der alle segmentene innen en gruppe har lik bredde.
route: /komponenter/skjemaelementer/segmented-control
parent: Komponenter
menu: Skjemaelementer
npmPackage: form
tags: radio, checkbox
---

import { Props } from 'docz';
import {
  SegmentedControl,
  MultipleSegmentedControl,
  SegmentedChoice,
  TextField,
} from '@entur/form';
import { GridContainer, GridItem } from '@entur/grid';
import { BannerAlertBox } from '@entur/alert';
import { DatePicker, TimePicker } from '@entur/datepicker';
import { Playground } from '~/components/Playground';
import { Dropdown } from '@entur/dropdown';
import { ImportStatement } from '~/components/ImportStatement';
import { CodeText } from '@entur/typography';
import { BoldIcon, ItalicIcon, UnderlineIcon } from '@entur/icons';
import PageHeader from '~/components/PageHeader';

<PageHeader />

<Playground>
  {() => {
    const [homeTown, setHomeTown] = React.useState(null);
    return (
        <div style={{ marginBottom: '1rem' }}>
          <SegmentedControl
            label="Velg din hjemby"
            onChange={selectedValue => setHomeTown(selectedValue)}
            selectedValue={homeTown}
          >
            <SegmentedChoice value="Oslo">Oslo</SegmentedChoice>
            <SegmentedChoice value="Bergen">Bergen</SegmentedChoice>
            <SegmentedChoice value="Leknes">Leknes</SegmentedChoice>
          </SegmentedControl>
        </div>
    );
}}

</Playground>

## Komponenter

### SegmentedControl

<ImportStatement imports="SegmentedControl" />
<Props of={SegmentedControl} />

`SegmentedControl` wrapper to eller flere `SegmentedChoice`-komponenter, og lar brukeren velge mellom forskjellige valg. For å kunne velge flere valg, bruk `MultipleSegmentedControl`.

### SegmentedChoice

<ImportStatement imports="SegmentedChoice" />
<Props of={SegmentedChoice} />

`SegmentedChoice` wrapper et valg inni en `SegmentedControl` eller `MultipleSegmentedControl`. Send inn en unik `value` som identifiserer valget, og send inn hva du vil (typisk en tekst eller et ikon) som `children`.

<BannerAlertBox variant="info" title="Husk beskrivelser for skjermlesere">
  Om du sender inn ikoner eller tekster som krever en visuell kontekst, er det
  viktig at du sender inn en <CodeText>aria-label</CodeText> prop, eller bruker{' '}
  <CodeText>VisuallyHidden</CodeText>
  (fra <CodeText>@entur/a11y</CodeText>) for å gi valget en god beskrivelse.
</BannerAlertBox>

### MultipleSegmentedControl

<ImportStatement imports="MultipleSegmentedControl" />
<Props of={MultipleSegmentedControl} />

`MultipleSegmentedControl` er lik som `SegmentedControl`, men tillater brukeren å velge flere valg på en gang. Dette gjør at `selectedValue`-propen må være et objekt, der nøklene korresponderer til `value`-verdien i de nøstede `SegmentedChoice`-komponentene. `onChange` vil også bli kalt med samme objektet.

Et eksempel kan være:

```js
<MultipleSegmentedControl
  selectedValue={{ italics: true, bold: false }}
  onChange={{ italics, bold } => changeFormatting({ italics, bold })}
>
  <SegmentedChoice value="italics"><em>Italics</em></SegmentedChoice>
  <SegmentedChoice value="bold"><strong>Bold</strong></SegmentedChoice>
</MultipleSegmentedControl>
```

## Retningslinjer for bruk

Segmented Control benyttes fremst til å velge en setting. De tilbyr et kontekstuelt valg, som er knyttet 1:1 til andre
objekter eller skjemagrupper. Valgt segment definerer ‘regler’ for verdiene i tilknyttede felter.
Segmented controls benyttes altså ofte som velgere/settings for andre felter, f.eks. om verdien som angis skal
i prosent eller kroner, eller om tidspunkt skal gjelde for avreise eller ankomst. De plasseres gjerne ovenfor/før
feltet de styrer over, eller under/etter i tilfelle konteksten tillater dette.

Segmented control har samme funksjon som en radiobutton, det vil si at én av verdiene er forhåndsvalgt, og den predefinerte
verdien kan byttes ut med en annen i samme rekke. Kun én av verdiene innen en segmented control kan velges.

For å oppnå best mulig brukervennlighet, bør en Segmented Control ikke ha fler enn fem segmenter. Alle segmenter bør ha samme bredde.
Det er lettere for brukeren å “tappe” bredere segmenter.

Bruk kun en Segmented Control når alternativene er forhåndsdefinerte. Hold segmentinnholdet kort og konsistent.
Segmented Controls skal benyttes med kun tekst eller tegn, ikke ikon + tekst.

### Eksempler

#### Eksempel 1

<Playground style={{ width: '40%' }}>
  {() => {
    const [homeTown, setHomeTown] = React.useState(null);
    const [date, setDate] = React.useState(Date.now());
    const [time, setTime] = React.useState(Date.now());
    return (
      <GridContainer spacing="medium" style={{ marginBottom: '1rem' }}>
        <GridItem small={12}>
          <SegmentedControl
            label="Velg reisetidspunkt"
            onChange={selectedValue => setHomeTown(selectedValue)}
            selectedValue={homeTown}
          >
            <SegmentedChoice value="nå">Nå</SegmentedChoice>
            <SegmentedChoice value="avreise">Avreise</SegmentedChoice>
            <SegmentedChoice value="ankomst">Ankomst</SegmentedChoice>
          </SegmentedControl>
        </GridItem>
        <GridItem small={12} large={8}>
          <DatePicker
            label="Reisedato"
            selectedDate={date}
            onChange={date => setDate(date)}
          />
        </GridItem>
        <GridItem small={12} large={4}>
          <TimePicker
            label="Klokkeslett"
            placeholder="Tid"
            selectedTime={time}
            onChange={time => setTime(time)}
          />
        </GridItem>
      </GridContainer>
    );
  }}
</Playground>

#### Eksempel 2

<Playground style={{ width: '33%' }}>
  {() => {
    const [type, setType] = React.useState(null);
    return (
      <GridContainer spacing="medium" style={{ marginBottom: '1rem' }}>
        <GridItem small={12}>
          <SegmentedControl
            label="Velg påslag eller avlslag"
            onChange={selectedValue => setType(selectedValue)}
            selectedValue={type}
          >
            <SegmentedChoice value="percent">%</SegmentedChoice>
            <SegmentedChoice value="kroner">Kr</SegmentedChoice>
          </SegmentedControl>
        </GridItem>
        <GridItem small={12}>
          <TextField placeholder="Pris" />
        </GridItem>
      </GridContainer>
    );
  }}
</Playground>

#### Eksempel 3

<Playground style={{ width: '50%' }}>
  {() => {
    const [type, setType] = React.useState(null);
    const items = ['Entur 1', 'Entur 2'];
    return (
      <GridContainer spacing="medium" style={{ marginBottom: '1rem' }}>
        <GridItem small={10}>
          <SegmentedControl
            label="Velg billettype"
            onChange={selectedValue => setType(selectedValue)}
            selectedValue={type}
          >
            <SegmentedChoice value="sone">Sone</SegmentedChoice>
            <SegmentedChoice value="strekning">Strekning</SegmentedChoice>
          </SegmentedControl>
        </GridItem>
        <GridItem small={2} />
        <GridItem small={12}>
          <Dropdown
            label="Reisetilbyder"
            placeholder="Velg selskap"
            items={items}
          ></Dropdown>
        </GridItem>
      </GridContainer>
    );
  }}
</Playground>
