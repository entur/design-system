---
name: Checkbox
description: Checkboxes lar brukerne velge ett eller flere alternativer fra en liste over valg.
route: /komponenter/skjemaelementer/checkbox
parent: Komponenter
menu: Skjemaelementer
npmPackage: form
tags: avkrysningsboks, avkrysningsfelt, valg
---

import { Props } from 'docz';
import { Link } from '@entur/typography';
import { Checkbox, Fieldset } from '@entur/form';
import { ImportStatement } from '~/components/ImportStatement';
import { Playground } from '~/components/Playground';
import { BestPractices, Example } from '~/components/BestPractices';
import doPic from './CheckboxDo.png';
import dontPic from './CheckboxDont.png';
import PageHeader from '~/components/PageHeader';

<PageHeader />

<Playground style={{ display: 'flex', justifyContent: 'center' }}>
  <Fieldset label="Hvilke sparkesykler vil du se i kartet?">
    <Checkbox>Tier</Checkbox>
    <Checkbox>Voi</Checkbox>
    <Checkbox>Zvipp</Checkbox>
  </Fieldset>
</Playground>

## Komponenter

### Checkbox

<ImportStatement imports="Checkbox" />
<Props of={Checkbox} />

### Fieldset

<ImportStatement imports="Fieldset" />
<Props of={Fieldset} />

Brukes for å gruppere valg sammen.

## Retningslinjer for bruk

Brukes i tilfeller der det er en liste over alternativer, og brukeren kan velge ett eller flere
alternativer. En checkbox skal være venstrejustert i skjemaer. Den skal alltid stå foran
tilhørende label tekst, og bør aldri stå alene.

Hvis brukerne bare kan velge ett alternativ fra listen, er det mer passende å bruke Radioknapper.
Om du ønsker at valget blir gjenspeilet eller lagret med en gang, bruk heller en Switch istedenfor.

### Indeterminate

Det finnes tilfeller der en checkbox hverken er på eller av. Det er typisk når man bruker en checkbox til å velge en rekke andre checkboxes.

Her har du et eksempel hvor det brukes. Prøv å velg ingen, alle eller en blanding.

<Playground>
  {() => {
    const [selectedItems, setSelectedItems] = React.useState({
      Buss: false,
      Tog: false,
      Båt: false,
      Fly: false,
      Sykkel: false,
      Sparkesykkel: false,
    });
    const isEverythingSelected = Object.values(selectedItems).every(
      value => value,
    );
    const isNothingSelected = Object.values(selectedItems).every(
      value => !value,
    );
    const isSomeSelected = !isEverythingSelected && !isNothingSelected;
    const handleAllOrNothingChange = () => {
      setSelectedItems(prev =>
        Object.keys(prev).reduce(
          (acc, key) => ({ ...acc, [key]: !isEverythingSelected }),
          {},
        ),
      );
    };
    const handleRegularChange = e => {
      setSelectedItems({
        ...selectedItems,
        [e.target.name]: e.target.checked,
      });
    };
    return (
      <Fieldset label="Jeg vil gjerne reise med">
        <Checkbox
          name="all"
          checked={isSomeSelected ? 'indeterminate' : isEverythingSelected}
          onChange={handleAllOrNothingChange}
        >
          Alt
        </Checkbox>
        {Object.entries(selectedItems).map(([name, checked]) => (
          <Checkbox
            key={name}
            checked={checked}
            name={name}
            onChange={handleRegularChange}
          >
            {name}
          </Checkbox>
        ))}
      </Fieldset>
    );
  }}
</Playground>

### Prinsipper

<BestPractices>
  <Example type="do" src={doPic}>
    Dersom det er mange checkboxes, bør du liste dem under hverandre i en
    kolonnegruppe slikt at det gjør det enkelt for brukeren å skanne raskt
    gjennom listen.
  </Example>
  <Example type="dont" src={dontPic}>
    Du bør unngå å plassere checkboxes i flere kolonner.
  </Example>
</BestPractices>
